<!DOCTYPE html>
<html>
<head><title>Modifier EmployÃ©</title><style>body{font-family:Arial,sans-serif;margin:40px;background:#f5f5f5;}form{max-width:500px;padding:20px;background:white;border-radius:8px;margin:20px auto;box-shadow:0 2px 10px rgba(0,0,0,0.1);}.btn{width:100%;padding:12px;background:#2196F3;color:white;border:none;border-radius:6px;font-size:16px;cursor:pointer;margin-top:10px;}input,select{width:100%;padding:12px;margin:8px 0;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;}</style></head>
<body>
<body>
    <!-- MESSAGES FLASH -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <div style="padding:15px;margin:20px;background:#d4edda;color:#155724;border-radius:8px;border-left:4px solid #28a745;">
                {{ message }}
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- BARRE NAVIGATION + CONNEXION -->
    <div style="background:#4CAF50;color:white;padding:15px;text-align:center;">
        {% if session.user %}
            <span>ğŸ‘‹ Bonjour, {{ session.user|upper }} !</span>
            <a href="/logout" style="color:white;margin-left:20px;padding:8px 16px;background:#f44336;border-radius:4px;text-decoration:none;">âŒ DÃ©connexion</a>
        {% else %}
            <a href="/login" style="color:white;padding:8px 16px;background:#2196F3;border-radius:4px;text-decoration:none;">ğŸ” Connexion</a>
        {% endif %}
    </div>

{% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <div style="padding:15px;margin:20px;background:#d4edda;color:#155724;border-radius:8px;border-left:4px solid #28a745;">
                {{ message }}
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
<h1 style="text-align:center;">âœï¸ Modifier {{ employe.nom }} {{ employe.prenom }}</h1>
<a href="/employes" style="display:inline-block;padding:10px;background:#666;color:white;text-decoration:none;border-radius:4px;">ğŸ“‹ Retour</a>
<form method="POST">
    <input name="nom" value="{{ employe.nom }}" placeholder="Nom" required>
    <input name="prenom" value="{{ employe.prenom }}" placeholder="PrÃ©nom" required>
    <input name="email" type="email" value="{{ employe.email }}" placeholder="Email" required>
    <input name="telephone" value="{{ employe.telephone or '' }}" placeholder="TÃ©lÃ©phone">
    <input name="poste" value="{{ employe.poste }}" placeholder="Poste" required>
    <input name="salaire" type="number" step="0.01" value="{{ employe.salaire }}" placeholder="Salaire" required>
    <input name="date_embauche" value="{{ employe.date_embauche }}" type="date" required>
    <select name="departement">
        <option value="IT" {% if employe.departement == 'IT' %}selected{% endif %}>IT</option>
        <option value="RH" {% if employe.departement == 'RH' %}selected{% endif %}>RH</option>
        <option value="Finance" {% if employe.departement == 'Finance' %}selected{% endif %}>Finance</option>
        <option value="Marketing" {% if employe.departement == 'Marketing' %}selected{% endif %}>Marketing</option>
    </select>
    <button type="submit">ğŸ’¾ Enregistrer Modifications</button>
</form>
</body>
</html>
